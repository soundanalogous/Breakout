This file contains details about the maintenance task which occurs in the
development process of Breakout.

Building a new release
----------------------
If you make changes in the core of Breakout, a new build is needed to test the
features. In the 'build' directory are scripts for different operating system
available to ease this task.

- Windows: `build.bat`
- Linux or OS X: `sh build.sh`

If Apache ant is installed, you can run `ant` from the build directory.

Or you can call the build script manually:

```bash
$ python build.py [Release Number]
```

The build process executes the following steps in order:

1. Check each file for lint
2. Run unit tests
3. Concatenate and minify files

If any step fails, the build process will exit.

Linting
-------
[JSHint](https://github.com/jshint/jshint/) is run for each file in the src 
directory during the build process. JSHint must be installed:

```bash
$ npm install jshint -g
```

Running tests
-------------
Tests (in *Breakout/test/*) are run automatically at the end of the build process.
[phantomJS](http://phantomjs.org/) and [mocha-phantomjs](https://github.com/metaskills/mocha-phantomjs) are required to run tests via the build script.
See the README file in *Breakout/test/* for more info on running the tests.

Updating the documentation
--------------------------
The documentation uses [JsDoc Toolkit](http://code.google.com/p/jsdoc-toolkit/).
Generate the documentation by running: 

```bash
$ python build_docs.py
```

Cleaning-up
-----------
Too much temp files in your directories, get rid of them.

```bash
$ find . -type f -name "*~" -print0 | xargs -0 rm
```

Updating to another jQuery release
----------------------------------
Whenever a switch to a new jQuery release happens, all example files need an
update. This should happen after the jQuery files under 'libs' in the example 
directory are updated.

Change the working directory to 'examples', tweak the command below, and
execute it. Using only the release number is possible but not recommended.

```bash
$ find . -type f -name "*.html" | xargs sed -ie 's|jquery-1.9.0|jquery-1.9.1|g'
```

To remove temp files (htmle) generated by above process:

```bash
$ find . -type f -name "*.htmle" -exec rm -f {} \;
```

Don't forget to commit all example files to the dev branch of your Breakout
fork and open a pull request on Github.

Updating to another jQuery UI release
-------------------------------------
This is performed the same way as a jQuery update. To avoid issues it's 
recommended to use the name and the release.

```bash
$ find . -type f -name "*.html" | xargs sed -ie 's|jquery-ui-1.9.0|jquery-ui-1.10.0|g'
```

License
-------
Breakout is distributed under the terms of the MIT License.
